(function(t){function e(e){for(var a,s,o=e[0],c=e[1],l=e[2],u=0,d=[];u<o.length;u++)s=o[u],i[s]&&d.push(i[s][0]),i[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);p&&p(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},i={app:0},r=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var p=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},2348:function(t,e,n){"use strict";var a=n("86f1"),i=n.n(a);i.a},"2fc8":function(t,e,n){"use strict";var a=n("71f1"),i=n.n(a);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"data"},[n("div",{staticClass:"input_area"},[n("div",{staticClass:"account"},[t._v("帳號 : "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],attrs:{type:"text"},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}})]),n("div",{staticClass:"date"},[t._v("日期 : "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],attrs:{type:"date"},domProps:{value:t.date},on:{input:function(e){e.target.composing||(t.date=e.target.value)}}})])]),n("div",{staticClass:"goTimeline",on:{click:t.getTimeline}},[t.isLoading?n("img",{attrs:{src:"/loading.gif",alt:"loading"}}):n("span",[t._v("啟動時光機!")])])]),t.error?n("div",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),n("div",{staticClass:"plurkContentGroup"},[t._l(t.timeline,function(e,a){return n("plurkContent",{key:a,staticClass:"plurkContent",attrs:{plurk:e,"display-name":t.displayName,account:t.currentAccount}})}),this.timeline.length>0?n("div",{staticClass:"more",on:{click:t.getMoreTimeline}},[t.moreLoading?n("img",{attrs:{src:"/loading.gif",alt:"loading"}}):n("span",[t._v("看更多")])]):t._e()],2)])},r=[],s=n("2909"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content_card"},[n("div",{staticClass:"main_content"},[n("div",{staticClass:"content"},[n("div",{staticClass:"displayName"},[n("a",{attrs:{href:t.accountLink,target:"_blank"}},[t._v(t._s(t.displayName))])]),n("div",{staticClass:"text_content",domProps:{innerHTML:t._s(t.plurk.content)}})]),n("div",{staticClass:"info"},[n("div",{staticClass:"response_count",attrs:{title:t.replyOpenTitle},on:{click:t.getReply}},[n("i",{staticClass:"fas fa-comments"}),n("div",{staticClass:"count"},[t._v("\n          "+t._s(t.plurk.response_count)+"\n        ")])]),n("a",{staticClass:"link",attrs:{href:t.originLink,target:"_blank"}},[n("i",{staticClass:"fas fa-external-link-alt"}),n("div",{staticClass:"text"},[t._v("連結")])]),n("div",{staticClass:"date"},[t._v(t._s(t.postedDate))])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.replyOpen,expression:"replyOpen"}],staticClass:"reply_group"},[t._l(t.reply,function(e){return n("replyCard",{directives:[{name:"show",rawName:"v-show",value:!t.replyLoading,expression:"!replyLoading"}],key:e.posted,attrs:{"reply-data":e}})}),t.replyLoading?n("div",{staticClass:"loading"},[n("img",{attrs:{src:"/ball-loading.gif",alt:"loading"}})]):t._e()],2),n("div",{directives:[{name:"show",rawName:"v-show",value:t.replyOpen&&!t.replyLoading,expression:"replyOpen && !replyLoading"}],staticClass:"close",on:{click:function(e){t.openCloseReply(!1)}}},[t._v("收起回覆")])])},c=[],l=(n("6b54"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"reply_content"},[n("div",{staticClass:"content"},[n("div",{staticClass:"displayName"},[n("a",{attrs:{href:t.accountLink,target:"_blank"}},[t._v(t._s(t.replyData.displayName))])]),n("div",{staticClass:"text_content",domProps:{innerHTML:t._s(t.replyData.content)}})]),n("div",{staticClass:"date"},[t._v(t._s(t.postedDate))])])}),p=[],u={props:["replyData"],computed:{accountLink:function(){return"https://www.plurk.com/".concat(this.replyData.account)},postedDate:function(){return new Date(this.replyData.posted).toLocaleString()}}},d=u,f=(n("7fd9"),n("2877")),v=Object(f["a"])(d,l,p,!1,null,"2f498ab0",null);v.options.__file="replyCard.vue";var m=v.exports,h={props:["plurk","displayName","account"],data:function(){return{replyLoading:!1,replyOpen:!1,reply:[]}},methods:{getReply:function(){var t=this;!this.reply.length>0&&this.plurk.response_count>0?(this.replyOpen=!0,this.replyLoading=!0,this.$axios.post("https://plurk-timeline.herokuapp.com/reply",{plurk_id:this.plurk.plurk_id}).then(function(e){t.reply=e.data.reply,t.replyLoading=!1})):this.reply.length>0&&this.plurk.response_count>0&&(this.replyOpen=!this.replyOpen)},openCloseReply:function(t){this.replyOpen=t}},computed:{accountLink:function(){return"https://www.plurk.com/".concat(this.account)},postedDate:function(){return new Date(this.plurk.posted).toLocaleString()},originLink:function(){return"https://www.plurk.com/p/".concat(this.plurk.plurk_id.toString(36))},replyOpenTitle:function(){return this.replyOpen?"收起回覆":"展開回覆"}},components:{replyCard:m}},g=h,y=(n("2fc8"),n("2348"),Object(f["a"])(g,o,c,!1,null,"5b39043e",null));y.options.__file="plurk_content.vue";var _=y.exports,k={name:"app",data:function(){return{account:"",date:"",timeline:[],isLoading:!1,error:"",displayName:"",moreLoading:!1,currentAccount:""}},methods:{getTimeline:function(){var t=this;this.timeline=[],this.error="",this.account&&!this.isLoading&&(this.isLoading=!0,this.$axios.post("https://plurk-timeline.herokuapp.com/getTimeline",{account:this.account,offset:this.isoDate}).then(function(e){"success"===e.data.success?(t.timeline=e.data.plurks,t.displayName=e.data.displayName,t.currentAccount=e.data.account):t.error=e.data.message,t.isLoading=!1}))},getMoreTimeline:function(){var t=this,e=new Date(this.timeline[this.timeline.length-1].posted).toISOString();this.currentAccount&&!this.moreLoading&&(this.moreLoading=!0,this.$axios.post("https://plurk-timeline.herokuapp.com/getTimeline",{account:this.currentAccount,offset:e}).then(function(e){"success"===e.data.success?t.timeline=Object(s["a"])(t.timeline).concat(Object(s["a"])(e.data.plurks)):t.error=e.message,t.moreLoading=!1}).catch(function(t){console.log("錯誤:",t)}))},clearError:function(){this.error=""}},computed:{isoDate:function(){return this.date?new Date("".concat(this.date,"T23:59:59")).toISOString():(new Date).toISOString()}},components:{plurkContent:_}},C=k,w=(n("5c0b"),Object(f["a"])(C,i,r,!1,null,null,null));w.options.__file="App.vue";var b=w.exports,O=n("bc3a"),L=n.n(O);a["a"].prototype.$axios=L.a,a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(b)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var a=n("5e27"),i=n.n(a);i.a},"5e27":function(t,e,n){},"71f1":function(t,e,n){},"7fd9":function(t,e,n){"use strict";var a=n("a69c"),i=n.n(a);i.a},"86f1":function(t,e,n){},a69c:function(t,e,n){}});
//# sourceMappingURL=app.a6bdebc2.js.map