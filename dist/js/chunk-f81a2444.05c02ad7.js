(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f81a2444"],{"0982":function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"response_content"},[a("div",{staticClass:"content"},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:t.responseData.avatar,alt:"avatar"}})]),a("div",{staticClass:"article"},[a("div",{staticClass:"displayName"},[a("a",{class:{owner:t.responseData.account===t.ownerAccount},style:t.nameColor,attrs:{href:t.accountLink,target:"_blank"}},[t._v(t._s(t.responseData.displayName))])]),a("div",{staticClass:"text_content",domProps:{innerHTML:t._s(t.responseData.content)}})])]),a("div",{staticClass:"date"},[t._v(t._s(t.postedDate))])])},r=[],n={props:{responseData:{type:Object,required:!0},ownerAccount:{tryp:String,required:!0}},computed:{accountLink:function(){return"https://www.plurk.com/".concat(this.responseData.account)},postedDate:function(){return new Date(this.responseData.posted).toLocaleString()},nameColor:function(){return this.responseData.nameColor?{color:"#".concat(this.responseData.nameColor)}:void 0}}},o=n,i=(a("39e0"),a("2877")),c=Object(i["a"])(o,e,r,!1,null,"0a11c92c",null);c.options.__file="responseCard.vue";s["a"]=c.exports},"0bfb":function(t,s,a){"use strict";var e=a("cb7c");t.exports=function(){var t=e(this),s="";return t.global&&(s+="g"),t.ignoreCase&&(s+="i"),t.multiline&&(s+="m"),t.unicode&&(s+="u"),t.sticky&&(s+="y"),s}},"2c70":function(t,s,a){"use strict";var e=a("f82c"),r=a.n(e);r.a},3846:function(t,s,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},"39e0":function(t,s,a){"use strict";var e=a("fef1"),r=a.n(e);r.a},"6b54":function(t,s,a){"use strict";a("3846");var e=a("cb7c"),r=a("0bfb"),n=a("9e1e"),o="toString",i=/./[o],c=function(t){a("2aba")(RegExp.prototype,o,t,!0)};a("79e5")(function(){return"/a/b"!=i.call({source:"a",flags:"b"})})?c(function(){var t=e(this);return"/".concat(t.source,"/","flags"in t?t.flags:!n&&t instanceof RegExp?r.call(t):void 0)}):i.name!=o&&c(function(){return i.call(this)})},f21d:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("transition",{attrs:{name:"page"}},[a("div",{staticClass:"content_card"},[a("div",{staticClass:"main_content"},[a("div",{staticClass:"content"},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:t.avatar,alt:"avatar"}})]),a("div",{staticClass:"article"},[a("div",{staticClass:"displayName"},[a("a",{attrs:{href:t.accountLink,target:"_blank"}},[t._v(t._s(t.displayName))])]),a("div",{staticClass:"text_content",domProps:{innerHTML:t._s(t.plurk.content)}})])]),a("div",{staticClass:"date"},[t._v(t._s(t.postedDate))]),a("div",{staticClass:"info"},[a("div",{staticClass:"response_count"},[a("i",{staticClass:"fas fa-comments"}),a("div",{staticClass:"count"},[t._v("\n            "+t._s(t.plurk.response_count)+"\n          ")])]),a("a",{staticClass:"link",attrs:{href:t.originLink,target:"_blank"}},[a("i",{staticClass:"fas fa-external-link-alt"}),a("div",{staticClass:"text"},[t._v("連結")])]),t.isInBookmark?a("div",{staticClass:"removeBookmark",attrs:{title:"刪除書籤"},on:{click:function(s){return s.stopPropagation(),t.removeBookmark(s)}}},[a("i",{staticClass:"fas fa-bookmark"}),a("div",{staticClass:"text"},[t._v("刪除書籤")])]):a("div",{staticClass:"addToBookmark",attrs:{title:"將這則噗文加入書籤"},on:{click:function(s){return s.stopPropagation(),t.addToBookmark(s)}}},[a("i",{staticClass:"far fa-bookmark"}),a("div",{staticClass:"text"},[t._v("加入書籤")])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.responseOpen,expression:"responseOpen"}],staticClass:"response_group"},[a("transition-group",{attrs:{name:"responseCard"}},t._l(t.responses,function(s){return a("responseCard",{directives:[{name:"show",rawName:"v-show",value:!t.responseLoading,expression:"!responseLoading"}],key:s.posted,attrs:{"response-data":s,ownerAccount:t.account}})})),t.responseLoading?a("div",{staticClass:"loading"},[a("img",{attrs:{src:"/ball-loading.gif"}})]):t._e()],1),t.responseLoading||0!==t.plurk.response_count?t._e():a("div",{staticClass:"noResponses"},[t._v("目前沒有回應喔")])])])},r=[],n=(a("6b54"),a("20d6"),a("cadf"),a("551c"),a("097d"),a("0982")),o={data:function(){return{responseLoading:!1,responseOpen:!1,responses:[]}},methods:{getResponse:function(){var t=this;!this.responses.length>0&&this.plurk.response_count>0?(this.responseOpen=!0,this.responseLoading=!0,this.$axios.post("https://plurk-timeline.herokuapp.com/response",{plurk_id:this.plurk.plurk_id}).then(function(s){t.responses=s.data.response,t.responseLoading=!1})):this.responses.length>0&&this.plurk.response_count>0&&(this.responseOpen=!this.responseOpen)},addToBookmark:function(){var t=this,s=JSON.parse(localStorage.getItem("bookmark"));if(s){if(s.some(function(s){return s.plurk_id===t.plurk.plurk_id}))return;s.push({plurk_id:this.plurk.plurk_id,addTime:Date.now()}),localStorage.setItem("bookmark",JSON.stringify(s))}else localStorage.setItem("bookmark",JSON.stringify([{plurk_id:this.plurk.plurk_id,addTime:Date.now()}]));this.$store.commit("addToBookmarkList",{plurk:this.plurk,displayName:this.displayName,account:this.account,avatar:this.avatar})},removeBookmark:function(){var t=this,s=JSON.parse(localStorage.getItem("bookmark"));s.splice(s.findIndex(function(s){return s.plurk_id===t.plurk.plurk_id}),1),localStorage.setItem("bookmark",JSON.stringify(s)),this.$store.commit("removeBookmark",this.plurk.plurk_id)}},computed:{accountLink:function(){return"https://www.plurk.com/".concat(this.account)},postedDate:function(){if(this.plurk.posted)return new Date(this.plurk.posted).toLocaleString()},originLink:function(){if(this.plurk.plurk_id)return"https://www.plurk.com/p/".concat(this.plurk.plurk_id.toString(36))},plurk:function(){return this.$store.state.plurk.plurkPageData.plurk},displayName:function(){return this.$store.state.plurk.plurkPageData.displayName},account:function(){return this.$store.state.plurk.plurkPageData.account},avatar:function(){return this.$store.state.plurk.plurkPageData.avatar},isInBookmark:function(){var t=this;return this.$store.state.bookmark.bookmarkList.some(function(s){return s.plurk.plurk_id===t.plurk.plurk_id})}},components:{responseCard:n["a"]},mounted:function(){this.plurk.plurk_id?this.getResponse():this.$route.params.plurk_id===localStorage.getItem("plurk_id")&&(this.$store.commit("setPlurkPageData",JSON.parse(localStorage.getItem("ownerData"))),this.getResponse())}},i=o,c=(a("2c70"),a("2877")),l=Object(c["a"])(i,e,r,!1,null,"5391a33c",null);l.options.__file="plurkPage.vue";s["default"]=l.exports},f82c:function(t,s,a){},fef1:function(t,s,a){}}]);
//# sourceMappingURL=chunk-f81a2444.05c02ad7.js.map